<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>FullProf tutorial on fitting XRD peaks • Research • Pranab Das</title><meta name="description" content="Tutorials, notes, and resources on Condensed Matter Physics, Crystal Growth, Angle Resolved Photoemission Spectroscopy (ARPES), Density Functional Theory (DFT) calculations using Quantum Espresso and OpenMX, computational materials science, Rietveld refinement of powder XRD pattern using FullProf, Laue simulation using Orient Express, various coding projects using python, javascript (react applications), FORTRAN, C, C++, Rust, software engineering, data science, machine learning, Linux, GitHub, LaTeX, web development, webassembly, Jekyll, Docusaurus."><meta property="og:description" content="Tutorials, notes, and resources on Condensed Matter Physics, Crystal Growth, Angle Resolved Photoemission Spectroscopy (ARPES), Density Functional Theory (DFT) calculations using Quantum Espresso and OpenMX, computational materials science, Rietveld refinement of powder XRD pattern using FullProf, Laue simulation using Orient Express, various coding projects using python, javascript (react applications), FORTRAN, C, C++, Rust, software engineering, data science, machine learning, Linux, GitHub, LaTeX, web development, webassembly, Jekyll, Docusaurus."><meta name="theme-color" content="#12181f"><meta property="og:site_name" content="Homepage of Pranab Das"><meta property="og:type" content="object"><meta property="og:title" content="Homepage of Pranab Das"><meta property="og:url" content="https://pranabdas.github.io/research/fullprof/"><meta property="og:image" content=""><link rel="shortcut icon" type="image/png" href="https://pranab.pages.dev/assets/images/favicon.png"><link rel="apple-touch-icon" href="https://pranab.pages.dev/assets/images/favicon.png"><link rel="canonical" href="https://pranabdas.github.io/research/fullprof/"><link rel="preconnect" href="https://pranab.pages.dev"><link rel="preconnect" href="https://pranab.pages.dev" crossorigin><link rel="preload" href="https://pranab.pages.dev/assets/css/main.da7a40.css" as="style"><link rel="preload" href="/assets/js/common.js" as="script"><link rel="stylesheet" href="https://pranab.pages.dev/assets/css/main.da7a40.css"><script src="/assets/js/common.js"></script></head><body><header class="site-header" aria-label="site header"><div class="hidden-bg"></div><div class="wrapper"><span class="site-title"><a href="/">Pranab <strong>Das</strong></a></span><nav class="site-nav"><input type="checkbox" id="checkbox" class="checkbox visually-hidden" aria-label="hamburger menu"> <label for="checkbox"><span class="hamburger"><span class="bar bar1"></span> <span class="bar bar2"></span> <span class="bar bar3"></span> <span class="bar bar4"></span></span></label><div class="trigger"><ul><li><a class="page-link" href="/" onmouseover="addHoverClass(this)" onmouseout="delHoverClass(this)">About</a></li><li><a class="page-link" href="/coding/" onmouseover="addHoverClass(this)" onmouseout="delHoverClass(this)">Coding</a></li><li><a class="page-link" href="/research/" onmouseover="addHoverClass(this)" onmouseout="delHoverClass(this)">Research</a></li><li><a class="page-link" href="/publications/" onmouseover="addHoverClass(this)" onmouseout="delHoverClass(this)">Publications</a></li><li><a class="page-link" href="/blog/" onmouseover="addHoverClass(this)" onmouseout="delHoverClass(this)">Blog</a></li><li id="theme-toggle" class="color-mode-icon" onclick="modeSwitcher()" title="Switch color mode"></li></ul></div></nav></div></header><div class="page-content"><div class="wrapper"><div class="post"><nav aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="/">home&ensp;</a>&raquo;</li><li class="breadcrumb-item"><a href="/research">&ensp;research&ensp;</a></li><li class="breadcrumb-item active">&raquo;&ensp;FullProf tutorial on fitting XRD peaks</li></ol></nav><header class="post-header" aria-label="header containing post title and description"><h1 class="post-title">FullProf tutorial on fitting XRD peaks</h1><p class="post-description">Rietveld refinement of powder X-ray diffraction pattern using FullProf</p></header><article class="post-content clearfix"><p>Step by step guide to getting started with powder x-ray diffraction peak fitting using FullProf.</p><p><strong>On this page:</strong></p><ul><li><a href="#installation">Installation</a></li><li><a href="#creating-pcr-file">Creating PCR File</a></li><li><a href="#editing-the-pcr-file">Editing the PCR File</a></li><li><a href="#refinement">Refinement</a></li></ul><h4 id="installation">Installation</h4><p>Please download the FullProf software <a href="https://www.ill.eu/sites/fullprof/php/downloads.html" target="_blank">here</a> and follow the instructions to install in your computer. I am using a Windows machine for this tutorial. The sample data used in this tutorial is available <a href="https://doi.org/10.17632/x6ph2nkrmm" target="_blank">here</a>.</p><h4 id="creating-pcr-file">Creating PCR File</h4><ol><li><p>First of all, it is recommended that you always create a new (separate) directory for the FullProf analysis of each of your samples. Like for example, now I want to do the analysis of CeMg<sub>3</sub>, so I will create <code class="language-plaintext highlighter-rouge">D:\FullProf\CeMg3</code></p></li><li><p>Copy the powder XRD data file to the folder created (i.e., to <code class="language-plaintext highlighter-rouge">D:\FullProf\CeMg3</code>). Generally, this XRD data file is an ASCII file with the extension <code class="language-plaintext highlighter-rouge">.x_y</code> or <code class="language-plaintext highlighter-rouge">.ASC</code>, containing data in two column format, it will be better to change the file extension to <code class="language-plaintext highlighter-rouge">.dat</code>.</p></li><li><p>Now run the fullProf Program, then the FullProf toolbar will appear.</p></li><li><p>Click the <strong>WinPlotr</strong> icon to run <strong>WinPlotr</strong>.</p></li></ol><div class=""><img class="col three" style="max-width:750px" src="https://pranab.pages.dev/assets/images/fullprof/img-01.webp" alt="screenshot-01"></div><ol><li>Then a window like shown bellow will appear:</li></ol><div class=""><img class="col three" style="max-width:750px" src="https://pranab.pages.dev/assets/images/fullprof/img-02.webp" alt="screenshot-02"></div><ol><li>Then go to <strong>File → Open Pattern</strong> File and select the first option <strong>X,Y data + INSTRM=10</strong> and Click <strong>OK</strong></li></ol><div class=""><img class="col three" style="max-width:300px;width:100%" src="https://pranab.pages.dev/assets/images/fullprof/img-03.webp" alt="screenshot-03"></div><ol><li><p>Now a browser window will pop-up and you have to browse the data file (Here in our case it is <code class="language-plaintext highlighter-rouge">CeMg3.dat</code>)</p></li><li><p>A plot window will appear</p></li></ol><div class=""><img class="col three" src="https://pranab.pages.dev/assets/images/fullprof/img-04.webp" alt="screenshot-04"></div><ol><li>Go to <strong>Points Selection → Automatic Peak Search</strong>. Then following window will appear, select <strong>Search Cu Ka1/Ka2 doublets</strong> and leave the remaining parameters as defaults for the first time and Click <strong>OK</strong>.</li></ol><div class=""><img class="col three" style="max-width:500px" src="https://pranab.pages.dev/assets/images/fullprof/img-05.webp" alt="screenshot-05"></div><ol><li><p>Now it will show, how many peak it has found, if the peak number is large or small, you can play with various parameters, especially Iterations num. <strong>Note: the maximum number of peak must be bellow 20</strong>.</p></li><li><p>Once you have got the right no. of peaks (say, 12 or 14), you can go ahead.</p></li><li><p>Now, you have to save this, for this, go to <strong>Points Selection → Save as… → Save Points for DICVOL06</strong>. A pop-up window will appear, put a title, select the <strong>Tested Crystal Symmetry</strong> (If it’s known, like in our case of CeMg<sub>3</sub> it’s Cubic. And click <strong>OK</strong>.</p></li></ol><div class=""><img class="col three" src="https://pranab.pages.dev/assets/images/fullprof/img-06.webp" alt="screenshot-06"></div><ol><li>A pop-up window will appear saying <strong>CeMg3.dic file has been created</strong>, click <strong>OK</strong>, Next pop-up will say <strong>Edit DICVOL06 input file edit?</strong> Click <strong>NO</strong>. Finally, click <strong>RUN</strong> in the next pop-up window while asking <strong>Run DICVOL06?</strong> If you get a solution, click <strong>OK</strong>.</li></ol><div class=""><img class="col three" style="max-width:500px" src="https://pranab.pages.dev/assets/images/fullprof/img-07.webp" alt="screenshot-07"></div><ol><li><p>Sometimes, it may happen that you end up with no solution, then go back step 12 and put the maximum number of impurity peak =1 (increase it step by step if you don’t get no solution again)</p></li><li><p>After clicking <strong>OK</strong>, in the step 13, a pop-up window will say <strong>Normal end of DICVOL6?</strong> Click <strong>Kenavo!</strong></p></li><li><p>Now the required PCR file has been created in our directory.</p></li></ol><h4 id="editing-the-pcr-file">Editing the PCR File</h4><p>Here we will use FullProf PCR Editor (Graphical User Interface) to edit the PCR file.</p><ol><li>Click the ED PCR button in the FullProf Suite Toolbar:</li></ol><div class=""><img class="col three" src="https://pranab.pages.dev/assets/images/fullprof/img-08.webp" alt="screenshot-08"></div><ol><li>Following window will appear:</li></ol><div class=""><img class="col three" style="max-width:500px" src="https://pranab.pages.dev/assets/images/fullprof/img-09.webp" alt="screenshot-9"></div><ol><li><p>Now, go to <strong>File → Open…</strong>, a browser window will appear, browse the PCR file which we have created earlier.</p></li><li><p>Click in the <strong>General</strong> TAB, give a title (say, CeMg3) and click <strong>OK</strong>.</p></li></ol><div class=""><img class="col three" style="max-width:500px" src="https://pranab.pages.dev/assets/images/fullprof/img-10.webp" alt="screenshot-10"></div><ol><li>Then go to <strong>Patterns</strong> TAB in the Editor of the PCR File, following window will appear:</li></ol><div class=""><img class="col three" style="max-width:500px" src="https://pranab.pages.dev/assets/images/fullprof/img-11.webp" alt="screenshot-11"></div><ol><li>Click the Data file/Peak shape button:</li></ol><div class=""><img class="col three" style="max-width:500px" src="https://pranab.pages.dev/assets/images/fullprof/img-12.webp" alt="screenshot-12"></div><ol><li><p>Another pop-up window will appear, in the <strong>Data File/Format</strong> TAB browse the data file, in our case <code class="language-plaintext highlighter-rouge">D:\FullProf\CeMg3\CeMg3.dat</code></p></li><li><p>Next, go to Refinement/Simulation TAB, put λ<sub>2</sub> = 1.5444 and (I<sub>2</sub>/I<sub>1</sub>) = 0.5 (specific to my case)</p></li></ol><div class=""><img class="col three" style="max-width:500px" src="https://pranab.pages.dev/assets/images/fullprof/img-13.webp" alt="screenshot-13"></div><ol><li><p>Click <strong>OK</strong> in the Profile Data Information Pattern window.</p></li><li><p>Now click in the <strong>Background Type</strong> button in the <strong>Pattern Information</strong> window, following window will appear, select <strong>6-Coefficients polynomial function</strong> and click <strong>OK</strong>.</p></li></ol><div class=""><img class="col three" style="max-width:500px" src="https://pranab.pages.dev/assets/images/fullprof/img-14.webp" alt="screenshot-14"></div><ol><li>Now, click in the Excluded regions button and enter excluded regions in the pop-up window, in our case, 0-10 and 80-180 are the excluded regions.</li></ol><div class=""><img class="col three" style="max-width:500px" src="https://pranab.pages.dev/assets/images/fullprof/img-15.webp" alt="screenshot-15"></div><ol><li><p>Click <strong>OK</strong> in the <strong>Exclude Regions</strong> window and in the <strong>Patter Information</strong> window.</p></li><li><p>Next, come to the <strong>Phases</strong> button in the <strong>Editor of PCR Files</strong> and click <strong>Symmetry</strong> button in the pop-up</p></li></ol><div class=""><img class="col three" style="max-width:500px" src="https://pranab.pages.dev/assets/images/fullprof/img-16.webp" alt="screenshot-16"></div><ol><li><p>Enter the <strong>SpaceGroup</strong> information, in our case it is <code class="language-plaintext highlighter-rouge">F m -3 m</code>. Click <strong>OK</strong> → <strong>OK</strong>.</p></li><li><p>Now go to <strong>Refinement</strong> Button → <strong>Instrumental</strong> button in the <strong>Refinement Information window</strong>.</p></li></ol><div class=""><img class="col three" style="max-width:500px" src="https://pranab.pages.dev/assets/images/fullprof/img-17.webp" alt="screenshot-17"></div><ol><li>Select the <strong>Zero</strong> Check box and click <strong>OK</strong>. First, we are going to refine only the zero point of the detector.</li></ol><div class=""><img class="col three" style="max-width:500px" src="https://pranab.pages.dev/assets/images/fullprof/img-18.webp" alt="screenshot-18"></div><ol><li>Click <strong>OK</strong> → <strong>OK</strong> and come to the Editor of PCR Files window, go to File → Save. Now you can exit the Editor window.</li></ol><h4 id="refinement">Refinement</h4><p>Here we will learn how to do the basic refinements</p><ol><li>Run the <strong>Winplotr</strong> by clicking the <strong>WinPlotr</strong> button in the FullProf Suite toolbar.</li></ol><div class=""><img class="col three" src="https://pranab.pages.dev/assets/images/fullprof/img-19.webp" alt="screenshot-19"></div><ol><li>Click the Pcr button to browse and open the pcr in a notepad.</li></ol><div class=""><img class="col three" src="https://pranab.pages.dev/assets/images/fullprof/img-20.webp" alt="screenshot-20"></div><ol><li>Now, the pcr file will open in NotePad, put Aut =1 (Doing so, you don’t need to put the index of refine parameter manually).</li></ol><div class=""><img class="col three" src="https://pranab.pages.dev/assets/images/fullprof/img-21.webp" alt="screenshot-21"></div><ol><li><p>Save and Close the NotePad.</p></li><li><p>Click the <strong>FP</strong> button in the <strong>WinPlotr</strong> toolbar, it will ask for the pcr file and the data file, browse those files.</p></li><li><p>Then it will show the fitted pattern as well as the experimental pattern. It will also show the value of Chi2, recall that for the first time we are only varying the zero error of the instrument.</p></li></ol><div class=""><img class="col three" src="https://pranab.pages.dev/assets/images/fullprof/img-22.webp" alt="screenshot-22"></div><ol><li>Go back to the Pcr button and open the pcr file in NotePad to edit it. This time we will refine the background parameters one by one. For this change the value of 1st background parameter to 1 instead of 0.</li></ol><div class=""><img class="col three" src="https://pranab.pages.dev/assets/images/fullprof/img-23.webp" alt="screenshot-23"></div><ol><li>Save and Close the NotePad and run the FP again, like this we can refine all the background parameters, generally one can maintain this order for best results: <strong>Zero Point of the Detector → Background Parameters → Lattice Constants → Atomic Positions → Debye-Waller factor → Peak Shape → Asymmetry Parameters</strong>.</li></ol><p><br></p><p><a target="_blank" href="https://github.com/pranabdas/fullprof/"><i class="fa-solid fa-pen"></i> Propose changes to this page.</a></p></article></div><script>let navElements=document.querySelectorAll(".page-link");for(let e=0;e<navElements.length;e++){navElements[e].href.split("/").includes("research")&&navElements[e].classList.add("nav-active")}</script></div></div><button type="button" onmouseover="setShow(!0)" onmouseout="setShow(!1)" onclick="goToTop()" id="back2top" title="Scroll back to top"><i class="fa-solid fa-chevron-up"></i></button><footer class="footer"><div class="wrapper">Copyright &copy; 2024 Pranab Das. All rights reserved.</div></footer><script src="https://pranab.pages.dev/assets/js/anchor.min.js"></script><script>anchors.options={visible:"hover",icon:"#"},anchors.add(".post-content h3, .post-content h4")</script><style>:target{scroll-margin-top:72px}</style></body></html>